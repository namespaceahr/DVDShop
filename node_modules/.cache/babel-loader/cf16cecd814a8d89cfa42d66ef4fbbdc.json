{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import fire from'../config';import{Link}from'react-router-dom';import Dashboard from'../Dashboard';var Update=/*#__PURE__*/function(_Component){_inherits(Update,_Component);function Update(props){var _this;_classCallCheck(this,Update);_this=_possibleConstructorReturn(this,_getPrototypeOf(Update).call(this,props));_this.onChange=function(e){var state=_this.state;state[e.target.name]=e.target.value;_this.setState({list:state});};_this.onSubmit=function(e){e.preventDefault();var _this$state=_this.state,title=_this$state.title,description=_this$state.description,price=_this$state.price;var updateRef=fire.firestore().collection('list').doc(_this.state.key);updateRef.set({title:title,description:description,price:price}).then(function(ref){_this.setState({key:'',title:'',description:'',price:0});_this.props.history.push(\"/details/\"+_this.props.match.params.id);}).catch(function(error){console.error(\"Error adding document: \",error);});};_this.state={key:'',title:'',description:'',price:0};return _this;}_createClass(Update,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var ref=fire.firestore().collection('list').doc(this.props.match.params.id);ref.get().then(function(dvd){if(dvd.exists){var list=dvd.data();_this2.setState({key:dvd.id,title:list.title,description:list.description,price:list.price});}else{console.log(\"No such data!\");}});}},{key:\"render\",value:function render(){if(fire.auth().currentUser){return React.createElement(\"div\",null,React.createElement(Dashboard,null),React.createElement(\"div\",{class:\"container\"},React.createElement(\"div\",null,React.createElement(\"div\",null,React.createElement(\"h3\",null,\"Update DVD Record\")),React.createElement(\"div\",null,React.createElement(\"h4\",null,React.createElement(Link,{to:\"/details/\".concat(this.state.key)},\"Back\")),React.createElement(\"form\",{onSubmit:this.onSubmit},React.createElement(\"div\",null,React.createElement(\"label\",{for:\"title\"},\"Title:\"),React.createElement(\"input\",{type:\"text\",name:\"title\",value:this.state.title,onChange:this.onChange,placeholder:\"Title\"})),React.createElement(\"div\",null,React.createElement(\"label\",{for:\"description\"},\"Description:\"),React.createElement(\"input\",{type:\"text\",name:\"description\",value:this.state.description,onChange:this.onChange,placeholder:\"Description\"})),React.createElement(\"div\",null,React.createElement(\"label\",{for:\"price\"},\"Price:\"),React.createElement(\"input\",{type:\"number\",name:\"price\",value:this.state.price,onChange:this.onChange,placeholder:\"Price\"})),React.createElement(\"button\",{type:\"submit\"},\"Update\"))))));}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Access Prohibited\"),React.createElement(Link,{to:\"/\"},\"Click to login\"));}}]);return Update;}(Component);export default Update;","map":{"version":3,"sources":["C:/Users/habib/Downloads/Archive/React/dvdshop/src/components/Update.js"],"names":["React","Component","fire","Link","Dashboard","Update","props","onChange","e","state","target","name","value","setState","list","onSubmit","preventDefault","title","description","price","updateRef","firestore","collection","doc","key","set","then","ref","history","push","match","params","id","catch","error","console","get","dvd","exists","data","log","auth","currentUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport fire from '../config';\nimport { Link } from 'react-router-dom';\nimport Dashboard from '../Dashboard';\n\nclass Update extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: '',\n      title: '',\n      description: '',\n      price: 0\n    };\n  }\n\n  componentDidMount() {\n    const ref = fire.firestore().collection('list').doc(this.props.match.params.id);\n    ref.get().then((dvd) => {\n      if (dvd.exists) {\n        const list = dvd.data();\n        this.setState({\n          key: dvd.id,\n          title: list.title,\n          description: list.description,\n          price: list.price\n        });\n      } else {\n        console.log(\"No such data!\");\n      }\n    });\n  }\n\n  onChange = (e) => {\n    const state = this.state\n    state[e.target.name] = e.target.value;\n    this.setState({list:state});\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { title, description, price } = this.state;\n\n    const updateRef = fire.firestore().collection('list').doc(this.state.key);\n    updateRef.set({\n      title,\n      description,\n      price\n    }).then((ref) => {\n      this.setState({\n        key: '',\n        title: '',\n        description: '',\n        price: 0\n      });\n      this.props.history.push(\"/details/\"+this.props.match.params.id)\n    })\n    .catch((error) => {\n      console.error(\"Error adding document: \", error);\n    });\n  }\n\n  render() {\n    if (fire.auth().currentUser) {\n        return (\n          <div>\n            <Dashboard/>\n            <div class=\"container\">\n        <div>\n          <div>\n            <h3>\n              Update DVD Record\n            </h3>\n          </div>\n          <div>\n            <h4><Link to={`/details/${this.state.key}`}>Back</Link></h4>\n            <form onSubmit={this.onSubmit}>\n              <div>\n                <label for=\"title\">Title:</label>\n                <input type=\"text\" name=\"title\" value={this.state.title} onChange={this.onChange} placeholder=\"Title\" />\n              </div>\n              <div>\n                <label for=\"description\">Description:</label>\n                <input type=\"text\" name=\"description\" value={this.state.description} onChange={this.onChange} placeholder=\"Description\" />\n              </div>\n              <div>\n                <label for=\"price\">Price:</label>\n                <input type=\"number\" name=\"price\" value={this.state.price} onChange={this.onChange} placeholder=\"Price\" />\n              </div>\n              <button type=\"submit\">Update</button>\n            </form>\n          </div>\n        </div>\n      </div>\n         </div>\n        );\n    }\n    return(\n        <div>\n        <h1>Access Prohibited</h1>\n        <Link to=\"/\">Click to login</Link>\n        </div>\n    );\n  }\n}\n\nexport default Update;"]},"metadata":{},"sourceType":"module"}