{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport fire from './config';\nimport { Link } from 'react-router-dom';\nimport SignIn from './SignIn';\nimport Dashboard from './Dashboard';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onCollectionUpdate = querySnapshot => {\n      const list = [];\n      querySnapshot.forEach(obj => {\n        const _obj$data = obj.data(),\n              title = _obj$data.title,\n              description = _obj$data.description,\n              price = _obj$data.price;\n\n        list.push({\n          key: obj.id,\n          obj,\n          title,\n          description,\n          price\n        });\n      });\n      this.setState({\n        list\n      });\n    };\n\n    this.ref = fire.firestore().collection('list');\n    this.unsubscribe = null;\n    this.state = {\n      user: {},\n      list: []\n    };\n  }\n\n  componentDidMount() {\n    this.authListener();\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n\n  authListener() {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        this.setState({\n          user\n        });\n      } else {\n        this.setState({\n          user: null\n        });\n      }\n    });\n  }\n\n  render() {\n    if (this.state.user && fire.auth().currentUser) {\n      //return (<Dashboard/>);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Dashboard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"DVD LIST\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Add New DVD\")), React.createElement(\"table\", {\n        class: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Title\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Price\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, this.state.list.map(dvd => React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: `/details/${dvd.key}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, dvd.title)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, dvd.description), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, dvd.price)))))));\n    }\n\n    return React.createElement(SignIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/habib/Downloads/Archive/React/dvdshop/src/App.js"],"names":["React","Component","fire","Link","SignIn","Dashboard","App","constructor","props","onCollectionUpdate","querySnapshot","list","forEach","obj","data","title","description","price","push","key","id","setState","ref","firestore","collection","unsubscribe","state","user","componentDidMount","authListener","onSnapshot","auth","onAuthStateChanged","render","currentUser","map","dvd"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport fire from './config';\nimport { Link } from 'react-router-dom';\nimport SignIn from './SignIn'\nimport Dashboard from './Dashboard';\nclass App extends Component{\n  constructor(props)\n  {\n    super(props);\n    this.ref = fire.firestore().collection('list');\n    this.unsubscribe = null;\n    this.state={\n      user : {},\n      list : []\n    }\n  }\n  onCollectionUpdate = (querySnapshot) => {\n    const list = [];\n    querySnapshot.forEach((obj) => {\n      const { title, description, price } = obj.data();\n      list.push({\n        key: obj.id,\n        obj, \n        title,\n        description,\n        price,\n      });\n    });\n    this.setState({\n      list\n   });\n  }\n\n\n  componentDidMount()\n  {\n    this.authListener();\n    this.unsubscribe = this.ref.onSnapshot(this.onCollectionUpdate);\n  }\n  authListener(){\n    fire.auth().onAuthStateChanged((user)=>{\n      if(user)\n      {\n        this.setState({user})\n      }\n      else{\n        this.setState({user : null})\n      }\n    })\n  }\n\n  render(){\n    if (this.state.user && fire.auth().currentUser) {\n        //return (<Dashboard/>);\n        return (\n        <div>\n          <Dashboard/>\n          <div>\n            <h3 className='header'>\n              DVD LIST\n            </h3>\n          </div>\n          <div>\n            <h4><Link to=\"/add\">Add New DVD</Link></h4>\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>Title</th>\n                  <th>Description</th>\n                  <th>Price</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.state.list.map(dvd =>\n                  <tr>\n                    <td><Link to={`/details/${dvd.key}`}>{dvd.title}</Link></td>\n                    <td>{dvd.description}</td>\n                    <td>{dvd.price}</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      );\n    }\n    return(\n      <SignIn/>\n    );\n}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}