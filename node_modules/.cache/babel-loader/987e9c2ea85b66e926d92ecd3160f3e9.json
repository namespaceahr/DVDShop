{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\src\\\\components\\\\Update.js\";\nimport React, { Component } from 'react';\nimport fire from '../config';\nimport { Link } from 'react-router-dom';\nimport Dashboard from '../Dashboard';\n\nclass Update extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      const state = this.state;\n      state[e.target.name] = e.target.value;\n      this.setState({\n        list: state\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            title = _this$state.title,\n            description = _this$state.description,\n            price = _this$state.price;\n      const updateRef = fire.firestore().collection('list').doc(this.state.key);\n      updateRef.set({\n        title,\n        description,\n        price\n      }).then(ref => {\n        this.setState({\n          key: '',\n          title: '',\n          description: '',\n          price: 0\n        });\n        this.props.history.push(\"/details/\" + this.props.match.params.id);\n      }).catch(error => {\n        console.error(\"Error adding document: \", error);\n      });\n    };\n\n    this.state = {\n      key: '',\n      title: '',\n      description: '',\n      price: 0\n    };\n  }\n\n  componentDidMount() {\n    const ref = fire.firestore().collection('list').doc(this.props.match.params.id);\n    ref.get().then(dvd => {\n      if (dvd.exists) {\n        const list = dvd.data();\n        this.setState({\n          key: dvd.id,\n          title: list.title,\n          description: list.description,\n          price: list.price\n        });\n      } else {\n        console.log(\"No such data!\");\n      }\n    });\n  }\n\n  render() {\n    if (fire.auth().currentUser) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Dashboard, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Update DVD Record\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: `/details/${this.state.key}`,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Back\")), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Title:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: this.state.title,\n        onChange: this.onChange,\n        placeholder: \"Title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Description:\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        value: this.state.description,\n        onChange: this.onChange,\n        placeholder: \"Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Price:\"), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        value: this.state.price,\n        onChange: this.onChange,\n        placeholder: \"Price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Update\"))))));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Access Prohibited\"), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Click to login\"));\n  }\n\n}\n\nexport default Update;","map":{"version":3,"sources":["C:/Users/habib/Downloads/Archive/React/dvdshop/src/components/Update.js"],"names":["React","Component","fire","Link","Dashboard","Update","constructor","props","onChange","e","state","target","name","value","setState","list","onSubmit","preventDefault","title","description","price","updateRef","firestore","collection","doc","key","set","then","ref","history","push","match","params","id","catch","error","console","componentDidMount","get","dvd","exists","data","log","render","auth","currentUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAEA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAE7BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA2BnBC,QA3BmB,GA2BPC,CAAD,IAAO;AAChB,YAAMC,KAAK,GAAG,KAAKA,KAAnB;AACAA,MAAAA,KAAK,CAACD,CAAC,CAACE,MAAF,CAASC,IAAV,CAAL,GAAuBH,CAAC,CAACE,MAAF,CAASE,KAAhC;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,IAAI,EAACL;AAAN,OAAd;AACD,KA/BkB;;AAAA,SAiCnBM,QAjCmB,GAiCPP,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACQ,cAAF;AADgB,0BAGsB,KAAKP,KAH3B;AAAA,YAGRQ,KAHQ,eAGRA,KAHQ;AAAA,YAGDC,WAHC,eAGDA,WAHC;AAAA,YAGYC,KAHZ,eAGYA,KAHZ;AAKhB,YAAMC,SAAS,GAAGnB,IAAI,CAACoB,SAAL,GAAiBC,UAAjB,CAA4B,MAA5B,EAAoCC,GAApC,CAAwC,KAAKd,KAAL,CAAWe,GAAnD,CAAlB;AACAJ,MAAAA,SAAS,CAACK,GAAV,CAAc;AACZR,QAAAA,KADY;AAEZC,QAAAA,WAFY;AAGZC,QAAAA;AAHY,OAAd,EAIGO,IAJH,CAISC,GAAD,IAAS;AACf,aAAKd,QAAL,CAAc;AACZW,UAAAA,GAAG,EAAE,EADO;AAEZP,UAAAA,KAAK,EAAE,EAFK;AAGZC,UAAAA,WAAW,EAAE,EAHD;AAIZC,UAAAA,KAAK,EAAE;AAJK,SAAd;AAMA,aAAKb,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwB,cAAY,KAAKvB,KAAL,CAAWwB,KAAX,CAAiBC,MAAjB,CAAwBC,EAA5D;AACD,OAZD,EAaCC,KAbD,CAaQC,KAAD,IAAW;AAChBC,QAAAA,OAAO,CAACD,KAAR,CAAc,yBAAd,EAAyCA,KAAzC;AACD,OAfD;AAgBD,KAvDkB;;AAEjB,SAAKzB,KAAL,GAAa;AACXe,MAAAA,GAAG,EAAE,EADM;AAEXP,MAAAA,KAAK,EAAE,EAFI;AAGXC,MAAAA,WAAW,EAAE,EAHF;AAIXC,MAAAA,KAAK,EAAE;AAJI,KAAb;AAMD;;AAEDiB,EAAAA,iBAAiB,GAAG;AAClB,UAAMT,GAAG,GAAG1B,IAAI,CAACoB,SAAL,GAAiBC,UAAjB,CAA4B,MAA5B,EAAoCC,GAApC,CAAwC,KAAKjB,KAAL,CAAWwB,KAAX,CAAiBC,MAAjB,CAAwBC,EAAhE,CAAZ;AACAL,IAAAA,GAAG,CAACU,GAAJ,GAAUX,IAAV,CAAgBY,GAAD,IAAS;AACtB,UAAIA,GAAG,CAACC,MAAR,EAAgB;AACd,cAAMzB,IAAI,GAAGwB,GAAG,CAACE,IAAJ,EAAb;AACA,aAAK3B,QAAL,CAAc;AACZW,UAAAA,GAAG,EAAEc,GAAG,CAACN,EADG;AAEZf,UAAAA,KAAK,EAAEH,IAAI,CAACG,KAFA;AAGZC,UAAAA,WAAW,EAAEJ,IAAI,CAACI,WAHN;AAIZC,UAAAA,KAAK,EAAEL,IAAI,CAACK;AAJA,SAAd;AAMD,OARD,MAQO;AACLgB,QAAAA,OAAO,CAACM,GAAR,CAAY,eAAZ;AACD;AACF,KAZD;AAaD;;AAgCDC,EAAAA,MAAM,GAAG;AACP,QAAIzC,IAAI,CAAC0C,IAAL,GAAYC,WAAhB,EAA6B;AACzB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAG,YAAW,KAAKnC,KAAL,CAAWe,GAAI,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,CADF,EAEE;AAAM,QAAA,QAAQ,EAAE,KAAKT,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAgC,QAAA,KAAK,EAAE,KAAKN,KAAL,CAAWQ,KAAlD;AAAyD,QAAA,QAAQ,EAAE,KAAKV,QAAxE;AAAkF,QAAA,WAAW,EAAC,OAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,GAAG,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,aAAxB;AAAsC,QAAA,KAAK,EAAE,KAAKE,KAAL,CAAWS,WAAxD;AAAqE,QAAA,QAAQ,EAAE,KAAKX,QAApF;AAA8F,QAAA,WAAW,EAAC,aAA1G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CALF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,IAAI,EAAC,OAA1B;AAAkC,QAAA,KAAK,EAAE,KAAKE,KAAL,CAAWU,KAApD;AAA2D,QAAA,QAAQ,EAAE,KAAKZ,QAA1E;AAAoF,QAAA,WAAW,EAAC,OAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATF,EAaE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,CAFF,CANF,CADI,CAFF,CADF;AAgCH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADA,EAEA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFA,CADJ;AAMD;;AApG4B;;AAuG/B,eAAeH,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport fire from '../config';\nimport { Link } from 'react-router-dom';\nimport Dashboard from '../Dashboard';\n\nclass Update extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: '',\n      title: '',\n      description: '',\n      price: 0\n    };\n  }\n\n  componentDidMount() {\n    const ref = fire.firestore().collection('list').doc(this.props.match.params.id);\n    ref.get().then((dvd) => {\n      if (dvd.exists) {\n        const list = dvd.data();\n        this.setState({\n          key: dvd.id,\n          title: list.title,\n          description: list.description,\n          price: list.price\n        });\n      } else {\n        console.log(\"No such data!\");\n      }\n    });\n  }\n\n  onChange = (e) => {\n    const state = this.state\n    state[e.target.name] = e.target.value;\n    this.setState({list:state});\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n\n    const { title, description, price } = this.state;\n\n    const updateRef = fire.firestore().collection('list').doc(this.state.key);\n    updateRef.set({\n      title,\n      description,\n      price\n    }).then((ref) => {\n      this.setState({\n        key: '',\n        title: '',\n        description: '',\n        price: 0\n      });\n      this.props.history.push(\"/details/\"+this.props.match.params.id)\n    })\n    .catch((error) => {\n      console.error(\"Error adding document: \", error);\n    });\n  }\n\n  render() {\n    if (fire.auth().currentUser) {\n        return (\n          <div>\n            <Dashboard/>\n            <div class=\"container\">\n        <div>\n          <div>\n            <h3>\n              Update DVD Record\n            </h3>\n          </div>\n          <div>\n            <h4><Link to={`/details/${this.state.key}`}>Back</Link></h4>\n            <form onSubmit={this.onSubmit}>\n              <div>\n                <label for=\"title\">Title:</label>\n                <input type=\"text\" name=\"title\" value={this.state.title} onChange={this.onChange} placeholder=\"Title\" />\n              </div>\n              <div>\n                <label for=\"description\">Description:</label>\n                <input type=\"text\" name=\"description\" value={this.state.description} onChange={this.onChange} placeholder=\"Description\" />\n              </div>\n              <div>\n                <label for=\"price\">Price:</label>\n                <input type=\"number\" name=\"price\" value={this.state.price} onChange={this.onChange} placeholder=\"Price\" />\n              </div>\n              <button type=\"submit\">Update</button>\n            </form>\n          </div>\n        </div>\n      </div>\n         </div>\n        );\n    }\n    return(\n        <div>\n        <h1>Access Prohibited</h1>\n        <Link to=\"/\">Click to login</Link>\n        </div>\n    );\n  }\n}\n\nexport default Update;"]},"metadata":{},"sourceType":"module"}