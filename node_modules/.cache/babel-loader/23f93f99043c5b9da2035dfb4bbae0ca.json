{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\habib\\\\Downloads\\\\Archive\\\\React\\\\dvdshop\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import fire from'../config';import{Link}from'react-router-dom';import Dashboard from'../Dashboard';var Details=/*#__PURE__*/function(_Component){_inherits(Details,_Component);function Details(props){var _this;_classCallCheck(this,Details);_this=_possibleConstructorReturn(this,_getPrototypeOf(Details).call(this,props));_this.state={list:{},key:''};return _this;}_createClass(Details,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var ref=fire.firestore().collection('list').doc(this.props.match.params.id);ref.get().then(function(dvd){if(dvd.exists){_this2.setState({list:dvd.data(),key:dvd.id,isLoading:false});}else{console.log(\"No such data!\");}});}},{key:\"delete\",value:function _delete(id){var _this3=this;fire.firestore().collection('list').doc(id).delete().then(function(){console.log(\"dvd successfully deleted!\");_this3.props.history.push(\"/\");}).catch(function(error){console.error(\"Error removing dvd: \",error);});}},{key:\"render\",value:function render(){if(fire.auth().currentUser){return React.createElement(\"div\",null,React.createElement(Dashboard,null),React.createElement(\"div\",{class:\"container_poster\"},React.createElement(\"div\",{class:\"poster\"},React.createElement(\"div\",{class:\"poster__img\"}),React.createElement(\"div\",{class:\"poster__info\"},React.createElement(\"h1\",{class:\"poster__title\"},this.state.list.title),React.createElement(\"p\",{class:\"poster__text\"},\"Description : \",this.state.list.description),React.createElement(\"br\",null),React.createElement(\"p\",{class:\"poster__text\"},\"Price : \",this.state.list.price))),React.createElement(Link,{to:\"/\"},\"Back To List\"),React.createElement(\"br\",null),React.createElement(Link,{to:\"/update/\".concat(this.state.key)},\"Edit\"),\"\\xA0\",React.createElement(\"button\",{onClick:this.delete.bind(this,this.state.key)},\"Delete\")));}return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Access Prohibited\"),React.createElement(Link,{to:\"/\"},\"Click to login\"));}}]);return Details;}(Component);export default Details;","map":{"version":3,"sources":["C:/Users/habib/Downloads/Archive/React/dvdshop/src/components/Details.js"],"names":["React","Component","fire","Link","Dashboard","Details","props","state","list","key","ref","firestore","collection","doc","match","params","id","get","then","dvd","exists","setState","data","isLoading","console","log","delete","history","push","catch","error","auth","currentUser","title","description","price","bind"],"mappings":"gsBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,C,GAEMC,CAAAA,O,iEAEJ,iBAAYC,KAAZ,CAAmB,yCACjB,yEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,GAAG,CAAE,EAFM,CAAb,CAFiB,aAMlB,C,iFAEmB,iBAClB,GAAMC,CAAAA,GAAG,CAAGR,IAAI,CAACS,SAAL,GAAiBC,UAAjB,CAA4B,MAA5B,EAAoCC,GAApC,CAAwC,KAAKP,KAAL,CAAWQ,KAAX,CAAiBC,MAAjB,CAAwBC,EAAhE,CAAZ,CACAN,GAAG,CAACO,GAAJ,GAAUC,IAAV,CAAe,SAACC,GAAD,CAAS,CACtB,GAAIA,GAAG,CAACC,MAAR,CAAgB,CACd,MAAI,CAACC,QAAL,CAAc,CACZb,IAAI,CAAEW,GAAG,CAACG,IAAJ,EADM,CAEZb,GAAG,CAAEU,GAAG,CAACH,EAFG,CAGZO,SAAS,CAAE,KAHC,CAAd,EAKD,CAND,IAMO,CACLC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CACF,CAVD,EAWD,C,uCAEMT,E,CAAG,iBACRd,IAAI,CAACS,SAAL,GAAiBC,UAAjB,CAA4B,MAA5B,EAAoCC,GAApC,CAAwCG,EAAxC,EAA4CU,MAA5C,GAAqDR,IAArD,CAA0D,UAAM,CAC9DM,OAAO,CAACC,GAAR,CAAY,2BAAZ,EACA,MAAI,CAACnB,KAAL,CAAWqB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAHD,EAGGC,KAHH,CAGS,SAACC,KAAD,CAAW,CAClBN,OAAO,CAACM,KAAR,CAAc,sBAAd,CAAsCA,KAAtC,EACD,CALD,EAMD,C,uCAEQ,CACP,GAAI5B,IAAI,CAAC6B,IAAL,GAAYC,WAAhB,CAA6B,CACzB,MACE,gCACE,oBAAC,SAAD,MADF,CAEA,2BAAK,KAAK,CAAC,kBAAX,EACE,2BAAK,KAAK,CAAC,QAAX,EACI,2BAAK,KAAK,CAAC,aAAX,EADJ,CAEI,2BAAK,KAAK,CAAC,cAAX,EACA,0BAAI,KAAK,CAAC,eAAV,EAA2B,KAAKzB,KAAL,CAAWC,IAAX,CAAgByB,KAA3C,CADA,CAEA,yBAAG,KAAK,CAAC,cAAT,mBAAuC,KAAK1B,KAAL,CAAWC,IAAX,CAAgB0B,WAAvD,CAFA,CAEuE,8BAFvE,CAGA,yBAAG,KAAK,CAAC,cAAT,aAAiC,KAAK3B,KAAL,CAAWC,IAAX,CAAgB2B,KAAjD,CAHA,CAFJ,CADF,CASE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,iBATF,CASkC,8BATlC,CAUE,oBAAC,IAAD,EAAM,EAAE,mBAAa,KAAK5B,KAAL,CAAWE,GAAxB,CAAR,SAVF,QAWE,8BAAQ,OAAO,CAAE,KAAKiB,MAAL,CAAYU,IAAZ,CAAiB,IAAjB,CAAuB,KAAK7B,KAAL,CAAWE,GAAlC,CAAjB,WAXF,CAFA,CADF,CAkBC,CACD,MACI,gCACA,kDADA,CAEA,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,mBAFA,CADJ,CAQL,C,qBA/DmBR,S,EAkEtB,cAAeI,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport fire from '../config';\nimport { Link } from 'react-router-dom';\nimport Dashboard from '../Dashboard';\n\nclass Details extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: {},\n      key: ''\n    };\n  }\n\n  componentDidMount() {\n    const ref = fire.firestore().collection('list').doc(this.props.match.params.id);\n    ref.get().then((dvd) => {\n      if (dvd.exists) {\n        this.setState({\n          list: dvd.data(),\n          key: dvd.id,\n          isLoading: false\n        });\n      } else {\n        console.log(\"No such data!\");\n      }\n    });\n  }\n\n  delete(id){\n    fire.firestore().collection('list').doc(id).delete().then(() => {\n      console.log(\"dvd successfully deleted!\");\n      this.props.history.push(\"/\")\n    }).catch((error) => {\n      console.error(\"Error removing dvd: \", error);\n    });\n  }\n\n  render() {\n    if (fire.auth().currentUser) {\n        return (\n          <div>\n            <Dashboard/>\n          <div class=\"container_poster\">\n            <div class=\"poster\">\n                <div class=\"poster__img\"></div>\n                <div class=\"poster__info\">\n                <h1 class=\"poster__title\">{this.state.list.title}</h1>\n                <p class=\"poster__text\">Description : {this.state.list.description}</p><br/>\n                <p class=\"poster__text\">Price : {this.state.list.price}</p>\n                </div>\n            </div>\n            <Link to=\"/\">Back To List</Link><br/>\n            <Link to={`/update/${this.state.key}`} >Edit</Link>&nbsp;\n            <button onClick={this.delete.bind(this, this.state.key)}>Delete</button>\n            </div>\n          </div> \n        );\n        }\n        return(\n            <div>\n            <h1>Access Prohibited</h1>\n            <Link to=\"/\">Click to login</Link>\n            </div>\n        );\n\n\n  }\n}\n\nexport default Details;"]},"metadata":{},"sourceType":"module"}